import{u as $,r as s,s as J,a as K,b as r,j as i,a0 as Y}from"./index-54e701e9.js";import{N as tt}from"./index-5b6ba9ac.js";import{s as et}from"./sortBy-f825cfee.js";import{l as at}from"./index-7b7ee0ed.js";import{I as P}from"./IconFile-78f45a77.js";import{I as rt}from"./IconPrinter-091d55dc.js";import"./floating-ui.dom-aa888fdc.js";import"./_baseIsEqual-e39dab2a.js";import"./_defineProperty-ce436608.js";const st=["id","PRIMENAME","SEQUENCE"],bt=()=>{const U=$();s.useEffect(()=>{U(J("Multiple Tables"))}),K(t=>t.themeConfig.rtlClass);const[v,x]=s.useState(1),O=[10,20,30,50,100],[u,L]=s.useState(O[0]),[h,S]=s.useState([]),[M,B]=s.useState([]),[T,k]=s.useState([]),[f,F]=s.useState(""),[E,z]=s.useState({columnAccessor:"id",direction:"asc"}),[Q,j]=s.useState("All"),[_,H]=s.useState([]);s.useEffect(()=>{(async()=>{try{const m=(await(await fetch(`${Y}/getMasterSet`)).json()).map((n,w)=>({...n,id:w+1}))}catch(e){console.error("Error fetching data:",e)}})()},[]),s.useEffect(()=>{x(1)},[u]),s.useEffect(()=>{const t=(v-1)*u,e=t+u;B([...h.slice(t,e)])},[v,u,h]),s.useEffect(()=>{S(()=>T.filter(t=>t.SEQUENCE.toString().includes(f.toLowerCase())||t.PRIMENAME.toLowerCase().includes(f.toLowerCase())))},[f]),s.useEffect(()=>{const t=et(h,E.columnAccessor);S(E.direction==="desc"?t.reverse():t),x(1)},[E]);const V=["Id","PRIMENAME","SEQUENCE"],X=()=>{const t=["id","PRIMENAME","SEQUENCE"];at.downloadExcel({fileName:"table",sheet:"react-export-table-to-excel",tablePayload:{header:V,body:M.map(e=>t.map(p=>e[p]))}})},N=t=>{let e=st,p=h,m="table",n;if(n=window.navigator,t==="csv"){let l=";",d=`
`,a=e.map(c=>y(c)).join(l);if(a+=d,p.map(c=>{e.map((b,I)=>{I>0&&(a+=l);let R=c[b]?c[b]:"";a+=R}),a+=d}),a==null)return;if(!a.match(/^data:text\/csv/i)&&!n.msSaveOrOpenBlob){var w="data:application/csv;charset=utf-8,"+encodeURIComponent(a),C=document.createElement("a");C.setAttribute("href",w),C.setAttribute("download",m+".csv"),C.click()}else{var G=new Blob([a]);n.msSaveOrOpenBlob&&n.msSaveBlob(G,m+".csv")}}else if(t==="print"){var o="<p>"+m+"</p>";o+='<table style="width: 100%; " cellpadding="0" cellcpacing="0"><thead><tr style="color: #515365; background: #eff5ff; -webkit-print-color-adjust: exact; print-color-adjust: exact; "> ',e.map(l=>{o+="<th>"+y(l)+"</th>"}),o+="</tr></thead>",o+="<tbody>",p.map(l=>{o+="<tr>",e.map(d=>{let a=l[d]?l[d]:"";o+="<td>"+a+"</td>"}),o+="</tr>"}),o+="<style>body {font-family:Arial; color:#495057;}p{text-align:center;font-size:18px;font-weight:bold;margin:15px;}table{ border-collapse: collapse; border-spacing: 0; }th,td{font-size:12px;text-align:left;padding: 4px;}th{padding:8px 4px;}tr:nth-child(2n-1){background:#f7f7f7; }</style>",o+="</tbody></table>";var g=window.open("","","left=0,top=0,width=1000,height=600,toolbar=0,scrollbars=0,status=0");g.document.write("<title>Print</title>"+o),g.document.close(),g.focus(),g.print()}else if(t==="txt"){let l=",",d=`
`,a=e.map(c=>y(c)).join(l);if(a+=d,p.map(c=>{e.map((b,I)=>{I>0&&(a+=l);let R=c[b]?c[b]:"";a+=R}),a+=d}),a==null)return;if(!a.match(/^data:text\/txt/i)&&!n.msSaveOrOpenBlob){var W="data:application/txt;charset=utf-8,"+encodeURIComponent(a),A=document.createElement("a");A.setAttribute("href",W),A.setAttribute("download",m+".txt"),A.click()}else{var Z=new Blob([a]);n.msSaveOrOpenBlob&&n.msSaveBlob(Z,m+".txt")}}},y=t=>t.replace("_"," ").replace("-"," ").toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.substring(1)).join(" ");s.useEffect(()=>{(async()=>{try{const e=await q();H(e)}catch(e){console.error("Error fetching options:",e)}})()},[]);const q=async()=>{try{const t=await fetch("your-api-endpoint");if(!t.ok)throw new Error("Failed to fetch options");return await t.json()}catch(t){return console.error("Error fetching options:",t),[]}},D=t=>{j(t.target.value)};return r("div",{children:i("div",{className:"panel mt-6",children:[i("div",{className:"mb-4.5 flex md:items-center md:flex-row flex-col gap-5",children:[r("div",{className:"flex items-center gap-5",children:i("div",{className:"flex items-center flex-wrap",children:[i("button",{type:"button",onClick:()=>N("csv"),className:"btn btn-primary btn-sm m-1 ",children:[r(P,{className:"w-5 h-5 ltr:mr-2 rtl:ml-2"}),"CSV"]}),i("button",{type:"button",onClick:()=>N("txt"),className:"btn btn-primary btn-sm m-1",children:[r(P,{className:"w-5 h-5 ltr:mr-2 rtl:ml-2"}),"TXT"]}),i("button",{type:"button",className:"btn btn-primary btn-sm m-1",onClick:X,children:[r(P,{className:"w-5 h-5 ltr:mr-2 rtl:ml-2"}),"EXCEL"]}),i("button",{type:"button",onClick:()=>N("print"),className:"btn btn-primary btn-sm m-1",children:[r(rt,{className:"ltr:mr-2 rtl:ml-2"}),"PRINT"]}),r("button",{type:"button",className:"btn btn-primary btn-sm m-1 w-50 h-5 ltr:mr-2 rtl:ml-2",style:{width:"12%",height:"33px"},onChange:D,children:"SEARCH"}),r("button",{type:"button",className:"btn btn-primary btn-sm m-1 w-50 h-5 ltr:mr-2 rtl:ml-2",style:{width:"10%",height:"33px"},onClick:()=>{j(""),S([]),B([]),k([])},children:"RESET"})]})}),r("div",{className:"ltr:ml-auto rtl:mr-auto",children:r("input",{type:"text",className:"form-input w-auto",placeholder:"Search...",value:f,onChange:t=>F(t.target.value)})})]}),r("div",{children:r("table",{children:r("tr",{children:r("td",{children:i("label",{htmlFor:"",children:["Master Input",i("select",{name:"Brand Name",style:{border:"1px solid #e5e7eb",borderRadius:"5px",margin:"0px 6px",width:"144px"},value:Q,onChange:D,children:[r("option",{value:"All",children:"ALL"}),_.map(t=>r("option",{value:t.value,children:t.label},t.value))]})]})})})})}),r("div",{className:"datatables",children:r(tt,{highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:M,columns:[{accessor:"id",title:"Id",sortable:!0},{accessor:"PRIMENAME",title:"Prime Name",sortable:!0},{accessor:"SEQUENCE",title:"Sequence",sortable:!0}],totalRecords:h.length,recordsPerPage:u,page:v,onPageChange:t=>x(t),recordsPerPageOptions:O,onRecordsPerPageChange:L,sortStatus:E,onSortStatusChange:z})})]})})};export{bt as default};
