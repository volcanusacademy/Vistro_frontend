import{u as he,r,s as J,a0 as W,a as pe,j as c,b as a,D as Te,F as De,d as be,a2 as Oe}from"./index-54e701e9.js";import{N as Ie}from"./index-5b6ba9ac.js";import{s as ee}from"./sortBy-f825cfee.js";import{I as K}from"./IconFile-78f45a77.js";import{I as Se}from"./IconPrinter-091d55dc.js";import{l as Re}from"./index-7b7ee0ed.js";/* empty css              */import"./floating-ui.dom-aa888fdc.js";import"./_baseIsEqual-e39dab2a.js";import"./_defineProperty-ce436608.js";const He=()=>{const Q=he();r.useEffect(()=>{Q(J("Range Search Table"))});const[Pe,te]=r.useState([]),[P,f]=r.useState(1),ae=[10,20,30,50,100],[n,O]=r.useState([]),[G,b]=r.useState(n),[se,j]=r.useState(n),[A,re]=r.useState(""),[g,z]=r.useState(1),[fe,le]=r.useState(1),[N,ce]=r.useState(10),[oe,ne]=r.useState(0),[T,ie]=r.useState({columnAccessor:"id",direction:"asc"}),[M,$]=r.useState(""),[x,V]=r.useState(""),[y,q]=r.useState(""),[U,_]=r.useState(""),[D,X]=r.useState("");r.useState({COMPANYID:"",AGENTID:"",AFIRMNAME:"",ACTELEPHONENO:"",ACMOBILENO:"",ACADDRESSLINE1:"",ACADDRESSLINE2:"",ACADDRESSLINE3:"",STATUS:"",AGENTNAME:"",ADOB:"",APERSONALIDTYPE:"",APERSONALID:"",APMOBILENO:"",APEMAILID:"",APADDRESSLINE1:"",APADDRESSLINE2:"",APADDRESSLINE3:"",APCITY:"",APSTATE:"",APCOUNTRY:"",APDISTRICT:"",APPINCODE:"",ABANKNAME:"",AACCOUNTTYPE:"",AACCOUNTNO:"",AACCOUNTHOLDERNAME:"",ABRANCHNAME:"",AIFSCCODE:"",ACHEQUENO:"",ACHEQUEREMARK:"",AMICRCODE:"",ATPNOBANK:"",CREATEDBY:"",CREATEDON:"",UPDATEDBY:"",UPDATEDON:"",ACCITY:"",ACSTATE:"",ACCOUNTRY:"",ACDISTRICT:"",ACPINCODE:"",REMARK:""});const d=e=>{const{name:t,value:l}=e.target;t==="Agent Name"?$(l):t==="Agent Firm Name"?V(l):t==="City"?q(l):t==="State"?_(l):t==="Status"&&X(l)},Ae=()=>{const e=n.filter(t=>(M===""||t.AGENTNAME===M)&&(x===""||t.AFIRMNAME===x)&&(y===""||t.APCITY===y)&&(U===""||t.APSTATE===U)&&(D===""||t.STATUS===D));b(e)},de=()=>{$(""),V(""),q(""),_(""),X(""),b(n.slice(0,10))};r.useEffect(()=>{f(1)},[N]),r.useEffect(()=>{fetch(`${W}/getMaster`).then(e=>e.json()).then(e=>{te(e),O(e),b(e),j(e)}).catch(e=>{console.error("Error fetching data:",e)})},[]),r.useEffect(()=>{(async()=>{try{const t=await Oe.get(`${W}/getMasterPagination?page=${g}`);console.log(g,"aaaaaaa");const{totalRecords:l,totalPages:u,currentPage:m,agents:S}=t.data;O(S),b(S),j(S),le(u),z(m),ne(l)}catch(t){console.error("Error fetching data:",t)}})()},[g]),r.useEffect(()=>{const e=(P-1)*N,t=e+N;b([...n.slice(e,t)])},[P,N,n]),r.useEffect(()=>{O(()=>se.filter(e=>e.id.toString().includes(A.toLowerCase())||e.AGENTNAME.toLowerCase().includes(A.toLowerCase())||e.AFIRMNAME.toLowerCase().includes(A.toLowerCase())||e.APCOUNTRY.toLowerCase().includes(A.toLowerCase())||e.APEMAILID.toLowerCase().includes(A.toLowerCase())||e.ACADDRESSLINE1.toString().toLowerCase().includes(A.toLowerCase())||e.APCITY.toLowerCase().includes(A.toLowerCase())||e.APMOBILENO.toLowerCase().includes(A.toLowerCase())))},[A]),r.useEffect(()=>{const e=ee(n,T.columnAccessor);O(T.direction==="desc"?e.reverse():e),f(1)},[T]);const Z=["id","COMPANYID","AGENTID","AFIRMNAME","ACTELEPHONENO","ACMOBILENO","ACADDRESSLINE1","STATUS","AGENTNAME","ADOB","APERSONALIDTYPE","APERSONALID","APMOBILENO","APEMAILID","APADDRESSLINE1","APCITY","APSTATE","APCOUNTRY","APDISTRICT","APPINCODE","ABANKNAME","AACCOUNTTYPE","AACCOUNTNO","AACCOUNTHOLDERNAME","ABRANCHNAME","AIFSCCODE","ACHEQUENO","ACHEQUEREMARK","AMICRCODE","ATPNOBANK","CREATEDBY","CREATEDON","UPDATEDBY","UPDATEDBY","UPDATEDON","ACCITY","ACCOUNTRY","ACDISTRICT","ACPINCODE","Remark"],B=e=>{let t=Z,l=n,u="table",m;if(m=window.navigator,e==="csv"){let E=";",p=`
`,o=t.map(h=>v(h)).join(E);if(o+=p,l.map(h=>{t.map((R,F)=>{F>0&&(o+=E);let k=h[R]?h[R]:"";o+=k}),o+=p}),o==null)return;if(!o.match(/^data:text\/csv/i)&&!m.msSaveOrOpenBlob){var S="data:application/csv;charset=utf-8,"+encodeURIComponent(o),Y=document.createElement("a");Y.setAttribute("href",S),Y.setAttribute("download",u+".csv"),Y.click()}else{var Ne=new Blob([o]);m.msSaveOrOpenBlob&&m.msSaveBlob(Ne,u+".csv")}}else if(e==="print"){var C="<p>"+u+"</p>";C+='<table style="width: 100%; " cellpadding="0" cellcpacing="0"><thead><tr style="color: #515365; background: #eff5ff; -webkit-print-color-adjust: exact; print-color-adjust: exact; "> ',t.map(E=>{C+="<th>"+v(E)+"</th>"}),C+="</tr></thead>",C+="<tbody>",l.map(E=>{C+="<tr>",t.map(p=>{let o=E[p]?E[p]:"";C+="<td>"+o+"</td>"}),C+="</tr>"}),C+="<style>body {font-family:Arial; color:#495057;}p{text-align:center;font-size:18px;font-weight:bold;margin:15px;}table{ border-collapse: collapse; border-spacing: 0; }th,td{font-size:12px;text-align:left;padding: 4px;}th{padding:8px 4px;}tr:nth-child(2n-1){background:#f7f7f7; }</style>",C+="</tbody></table>";var L=window.open("","","left=0,top=0,width=1000,height=600,toolbar=0,scrollbars=0,status=0");L.document.write("<title>Print</title>"+C),L.document.close(),L.focus(),L.print()}else if(e==="txt"){let E=",",p=`
`,o=t.map(h=>v(h)).join(E);if(o+=p,l.map(h=>{t.map((R,F)=>{F>0&&(o+=E);let k=h[R]?h[R]:"";o+=k}),o+=p}),o==null)return;if(!o.match(/^data:text\/txt/i)&&!m.msSaveOrOpenBlob){var ue="data:application/txt;charset=utf-8,"+encodeURIComponent(o),H=document.createElement("a");H.setAttribute("href",ue),H.setAttribute("download",u+".txt"),H.click()}else{var me=new Blob([o]);m.msSaveOrOpenBlob&&m.msSaveBlob(me,u+".txt")}}};function Ce(){const e=["id","COMPANYID","AGENTID","AFIRMNAME","ACTELEPHONENO","ACMOBILENO","ACADDRESSLINE1","STATUS","AGENTNAME","ADOB","APERSONALIDTYPE","APERSONALID","APMOBILENO","APEMAILID","APADDRESSLINE1","APCITY","APSTATE","APCOUNTRY","APDISTRICT","APPINCODE","ABANKNAME","AACCOUNTTYPE","AACCOUNTNO","AACCOUNTHOLDERNAME","ABRANCHNAME","AIFSCCODE","ACHEQUENO","ACHEQUEREMARK","AMICRCODE","ATPNOBANK","CREATEDBY","CREATEDON","UPDATEDBY","UPDATEDBY","UPDATEDON","ACCITY","ACCOUNTRY","ACDISTRICT","ACPINCODE","REMARK"];Re.downloadExcel({fileName:"table",sheet:"react-export-table-to-excel",tablePayload:{header:Z,body:G.map(t=>e.map(l=>t[l]))}})}const v=e=>e.replace("_"," ").replace("-"," ").toLowerCase().split(" ").map(t=>t.charAt(0).toUpperCase()+t.substring(1)).join(" ");r.useEffect(()=>{Q(J("Column Chooser Table"))});const Ee=pe(e=>e.themeConfig.rtlClass)==="rtl",[s,I]=r.useState(["age","dob","COMPANYID","AGENTID","ACTELEPHONENO","ACMOBILENO","ACADDRESSLINE1","STATUS","ADOB","APERSONALIDTYPE","APERSONALID","APMOBILENO","APADDRESSLINE1","APCITY","APSTATE","APCOUNTRY","APDISTRICT","APPINCODE","ABANKNAME","AACCOUNTTYPE","AACCOUNTNO","AACCOUNTHOLDERNAME","ABRANCHNAME","AIFSCCODE","ACHEQUENO","ACHEQUEREMARK","AMICRCODE","ATPNOBANK","CREATEDBY","CREATEDON","UPDATEDBY","UPDATEDBY","UPDATEDON","ACCITY","ACCOUNTRY","ACDISTRICT","ACPINCODE","ACSTATE","Remark","isActive"]),w=(e,t)=>{s.includes(e)?I(l=>s.filter(u=>u!==l)):I([...s,e])},i=[{accessor:"id",title:"ID"},{accessor:"agentName",title:"Agent Name"},{accessor:"agentFirmName",title:"Agent Firm Name"},{accessor:"email",title:"Email"},{accessor:"dob",title:"Startdate"},{accessor:"phone",title:"Phone"},{accessor:"age",title:"Status"},{accessor:"Remark",title:"Remark"},{accessor:"AACCOUNTHOLDERNAME",title:"Account Holder Name"},{accessor:"AACCOUNTNO",title:"Account No"},{accessor:"AACCOUNTTYPE",title:"Account Type"},{accessor:"ABANKNAME",title:"Bank Name"},{accessor:"ABRANCHNAME",title:"Branch Name"},{accessor:"ACADDRESSLINE1",title:"Company Address"},{accessor:"ACCITY",title:"Company City"},{accessor:"ACCOUNTRY",title:"Company Country"},{accessor:"ACDISTRICT",title:"Company District"},{accessor:"ACHEQUENO",title:"Cheque No"},{accessor:"ACHEQUEREMARK",title:"Cheque Mark"},{accessor:"ACMOBILENO",title:"Company Contact No"},{accessor:"ACPINCODE",title:"Company Pincode"},{accessor:"ACSTATE",title:"Company State"},{accessor:"ACTELEPHONENO",title:"Company Telephone"},{accessor:"AIFSCCODE",title:"IFSC Code"},{accessor:"AMICRCODE",title:"MICR Code"},{accessor:"APADDRESSLINE1",title:"Agent Address"},{accessor:"APCITY",title:"City"},{accessor:"APDISTRICT",title:"District"},{accessor:"APERSONALIDTYPE",title:"Agent ID Type"},{accessor:"APERSONALID",title:"Agent ID No"},{accessor:"APMOBILENO",title:"Personal Contact No"},{accessor:"APPINCODE",title:"Agent Pincode"},{accessor:"APSTATE",title:"Agent State"},{accessor:"ATPNOBANK",title:"Bank ATP No"}];return r.useEffect(()=>{f(1)},[N]),r.useEffect(()=>{const e=(P-1)*N,t=e+N;b([...n.slice(e,t)])},[P,N,n]),r.useEffect(()=>{const e=ee(n,T.columnAccessor);O(T.direction==="desc"?e.reverse():e),f(1)},[T]),c("div",{children:[c("div",{className:"panel mt-6",children:[c("div",{className:"flex md:items-center justify-between md:flex-row flex-col mb-4.5 gap-1",children:[c("div",{className:"flex items-center ",children:[c("button",{type:"button",onClick:()=>B("csv"),className:"btn btn-primary btn-sm m-1 ",children:[a(K,{className:"w-5 h-5 ltr:mr-2 rtl:ml-2"}),"CSV"]}),c("button",{type:"button",onClick:()=>B("txt"),className:"btn btn-primary btn-sm m-1",children:[a(K,{className:"w-5 h-5 ltr:mr-2 rtl:ml-2"}),"TXT"]}),c("button",{type:"button",className:"btn btn-primary btn-sm m-1",onClick:Ce,children:[a(K,{className:"w-5 h-5 ltr:mr-2 rtl:ml-2"}),"EXCEL"]}),c("button",{type:"button",onClick:()=>B("print"),className:"btn btn-primary btn-sm m-1",children:[a(Se,{className:"ltr:mr-2 rtl:ml-2"}),"PRINT"]})]}),a("button",{type:"button",className:"btn btn-primary btn-sm m-1 w-50 h-5 ltr:mr-2 rtl:ml-2",style:{width:"8%",height:"33px"},onClick:de,children:"Reset"}),a("button",{type:"button",className:"btn btn-primary btn-sm m-1 w-50 h-5 ltr:mr-2 rtl:ml-2",style:{width:"8%",height:"33px"},onClick:Ae,children:"Search"}),a("div",{className:"flex md:items-center md:flex-row flex-col  gap-1",children:a("div",{className:"flex items-center gap-5 ltr:ml-auto rtl:mr-auto",children:a("div",{className:"flex md:items-center md:flex-row flex-col gap-1",children:a("div",{className:"dropdown",children:a(Te,{placement:`${Ee?"bottom-end":"bottom-start"}`,btnClassName:"!flex items-center border font-semibold border-white-light dark:border-[#253b5c] rounded-md px-4 py-2 text-sm dark:bg-[#1b2e4b] dark:text-white-dark",button:c(De,{children:[a("span",{className:"ltr:mr-1 rtl:ml-1",children:"Columns"}),a(be,{className:"w-5 h-5"})]}),children:a("div",{className:"overflow-auto max-h-[300px]",children:a("ul",{className:"!min-w-[140px]",children:i.map((e,t)=>t%3===0?c("li",{className:"flex md:flex-row flex-col ",onClick:l=>{l.stopPropagation()},children:[a("div",{className:"flex items-center px-4 py-1 md:w-1/3",children:c("label",{className:"cursor-pointer mb-0 flex items-center",children:[a("input",{type:"checkbox",checked:!s.includes(e.accessor),className:"form-checkbox mr-2",defaultValue:e.accessor,onChange:l=>{I(l.target.value),w(e.accessor,l.target.checked)}}),a("span",{children:e.title})]})}),i[t+1]&&a("div",{className:"flex items-center px-4 py-1 md:w-1/3",children:c("label",{className:"cursor-pointer mb-0 flex items-center",children:[a("input",{type:"checkbox",checked:!s.includes(i[t+1].accessor),className:"form-checkbox mr-2",defaultValue:i[t+1].accessor,onChange:l=>{I(l.target.value),w(i[t+1].accessor,l.target.checked)}}),a("span",{children:i[t+1].title})]})}),i[t+2]&&a("div",{className:"flex items-center px-4 py-1 md:w-1/3",children:c("label",{className:"cursor-pointer mb-0 flex items-center",children:[a("input",{type:"checkbox",checked:!s.includes(i[t+2].accessor),className:"form-checkbox mr-2",defaultValue:i[t+2].accessor,onChange:l=>{I(l.target.value),w(i[t+2].accessor,l.target.checked)}}),a("span",{children:i[t+2].title})]})})]},t):null)})})})})})})}),a("input",{type:"text",className:"form-input w-auto",placeholder:"Search...",value:A,onChange:e=>re(e.target.value)})]}),c("table",{children:[c("thead",{children:[a("td",{children:c("label",{htmlFor:"",children:["Design No",a("select",{name:"Design No",style:{width:"144px",marginLeft:"3px",border:"1px solid #e5e7eb",borderRadius:"5px",maxHeight:"200px"},value:M,onChange:d})]})}),a("td",{children:c("label",{htmlFor:"",children:["Item Type",c("select",{name:"Item Type",style:{width:"144px",marginLeft:"3px",border:"1px solid #e5e7eb",borderRadius:"5px"},value:x,onChange:d,children:[a("option",{value:"",children:"--ALL--"}),n.map((e,t)=>a("option",{value:e.AFIRMNAME,children:e.AFIRMNAME},t))]})]})}),a("td",{children:c("label",{htmlFor:"",children:["Brand",c("select",{name:"Brand",style:{width:"144px",marginLeft:"3px",border:"1px solid #e5e7eb",borderRadius:"5px"},value:x,onChange:d,children:[a("option",{value:"",children:"--ALL--"}),n.map((e,t)=>a("option",{value:e.AFIRMNAME,children:e.AFIRMNAME},t))]})]})}),a("td",{children:c("label",{htmlFor:"",children:["Size",a("select",{name:"Size",style:{width:"144px",marginLeft:"58px",border:"1px solid #e5e7eb",borderRadius:"5px"},value:y,onChange:d})]})}),a("td",{children:c("label",{htmlFor:"",children:["Color",a("select",{name:"Color",style:{width:"144px",marginLeft:"82px",border:"1px solid #e5e7eb",borderRadius:"5px"},value:U,onChange:d})]})})]}),c("thead",{children:[a("td",{children:c("label",{htmlFor:"",children:["Unit",a("select",{name:"Unit",style:{width:"144px",marginLeft:"30px",border:"1px solid #e5e7eb",borderRadius:"5px"},value:D,onChange:d})]})}),a("td",{children:c("label",{htmlFor:"",children:["Group",a("select",{name:"Group",style:{width:"144px",marginLeft:"30px",border:"1px solid #e5e7eb",borderRadius:"5px"},value:D,onChange:d})]})}),a("td",{children:c("label",{htmlFor:"",children:["MRP Range From",a("select",{name:"MRP Range From",style:{width:"144px",marginLeft:"30px",border:"1px solid #e5e7eb",borderRadius:"5px"},value:D,onChange:d})]})}),a("td",{children:c("label",{htmlFor:"",children:["To",a("select",{name:"To",style:{width:"144px",marginLeft:"30px",border:"1px solid #e5e7eb",borderRadius:"5px"},value:D,onChange:d})]})}),a("td",{children:c("label",{htmlFor:"",children:["Style",a("select",{name:"Style",style:{width:"144px",marginLeft:"30px",border:"1px solid #e5e7eb",borderRadius:"5px"},value:D,onChange:d})]})})]})]}),a("div",{className:"datatables",children:a(Ie,{highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:G,style:{position:"relative",zIndex:0},columns:[{accessor:"id",title:"#",sortable:!0,hidden:s.includes("id")},{accessor:"AGENTNAME",title:"Agent Name",sortable:!0,hidden:s.includes("agentName")},{accessor:"AFIRMNAME",title:"Agent Firm Name",sortable:!0,hidden:s.includes("agentFirmName")},{accessor:"APEMAILID",title:"Email",sortable:!0,hidden:s.includes("email")},{accessor:"APMOBILENO",title:"Phone",sortable:!0,hidden:s.includes("phone")},{accessor:"APCOUNTRY",title:"Country",sortable:!0,hidden:s.includes("APCOUNTRY")},{accessor:"APCITY",title:"City",sortable:!0,hidden:s.includes("APCITY")},{accessor:"APSTATE",title:"State",sortable:!0,hidden:s.includes("APSTATE")},{accessor:"APDISTRICT",title:"District",sortable:!0,hidden:s.includes("APDISTRICT")},{accessor:"APADDRESSLINE1",title:"Agent Address",sortable:!0,hidden:s.includes("APADDRESSLINE1")},{accessor:"APERSONALIDTYPE",title:"Agent ID Type",sortable:!0,hidden:s.includes("APERSONALIDTYPE")},{accessor:"APERSONALID",title:"Agent ID No",sortable:!0,hidden:s.includes("APERSONALID")},{accessor:"AACCOUNTHOLDERNAME",title:"Account Holder Name",sortable:!0,hidden:s.includes("AACCOUNTHOLDERNAME")},{accessor:"AACCOUNTTYPE",title:"Account Type",sortable:!0,hidden:s.includes("AACCOUNTTYPE")},{accessor:"AACCOUNTNO",title:"Account Number",sortable:!0,hidden:s.includes("AACCOUNTNO")},{accessor:"ABANKNAME",title:"Bank Name",sortable:!0,hidden:s.includes("ABANKNAME")},{accessor:"ABRANCHNAME",title:"Branch Name",sortable:!0,hidden:s.includes("ABRANCHNAME")},{accessor:"AIFSCCODE",title:"IFSC Code",sortable:!0,hidden:s.includes("AIFSCCODE")},{accessor:"AMICRCODE",title:"MICR Code",sortable:!0,hidden:s.includes("AMICRCODE")},{accessor:"ACHEQUENO",title:"Cheque No",sortable:!0,hidden:s.includes("ACHEQUENO")},{accessor:"ACHEQUEREMARK",title:"Cheque Remark",sortable:!0,hidden:s.includes("ACHEQUEREMARK")},{accessor:"ACADDRESSLINE1",title:"Company Address",sortable:!0,hidden:s.includes("ACADDRESSLINE1")},{accessor:"ACCITY",title:"Company City",sortable:!0,hidden:s.includes("ACCITY")},{accessor:"ACCOUNTRY",title:"Company Country",sortable:!0,hidden:s.includes("ACCOUNTRY")},{accessor:"ACDISTRICT",title:"Company District",sortable:!0,hidden:s.includes("ACDISTRICT")},{accessor:"ACSTATE",title:"Company State",sortable:!0,hidden:s.includes("ACSTATE")},{accessor:"ACMOBILENO",title:"Company Contact No",sortable:!0,hidden:s.includes("ACMOBILENO")},{accessor:"ACTELEPHONENO",title:"Company Telephone",sortable:!0,hidden:s.includes("ACTELEPHONENO")},{accessor:"ACPINCODE",title:"Company Pincode",sortable:!0,hidden:s.includes("ACPINCODE")},{accessor:"CREATEDBY",title:"Created By",sortable:!0,hidden:s.includes("CREATEDBY")},{accessor:"CREATEDON",title:"Created On",sortable:!0,hidden:s.includes("CREATEDON")},{accessor:"REMARK",title:"Remark",sortable:!0,hidden:s.includes("Remark")},{accessor:"UPDATEDBY",title:"Updated By",sortable:!0,hidden:s.includes("UPDATEDBY")},{accessor:"UPDATEDON",title:"Updated On",sortable:!0,hidden:s.includes("UPDATEDON")},{accessor:"STATUS",title:"Status",sortable:!0,hidden:s.includes("age")},{accessor:"ADOB",title:"DOB",sortable:!0,hidden:s.includes("dob")}],totalRecords:oe,recordsPerPage:N,page:g,onPageChange:e=>z(e),recordsPerPageOptions:ae,onRecordsPerPageChange:ce,sortStatus:T,onSortStatusChange:ie,minHeight:200,paginationText:({from:e,to:t,totalRecords:l})=>`Showing  ${e} to ${t} of ${l} entries`})})]}),a("div",{className:"panel flex items-center overflow-x-auto whitespace-nowrap p-3 text-primary"})]})};export{He as default};
