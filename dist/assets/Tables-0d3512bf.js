import{u as E,r as l,s as T,a0 as d,a as N,a1 as x,b as t,j as a}from"./index-54e701e9.js";import{C as D}from"./Highlight-7ed53fac.js";import{T as h}from"./tippy-e8390eda.js";import{I as L}from"./IconTrashLines-82ca39e7.js";import{I as S}from"./IconPencil-41ff5fc5.js";const $=()=>{const n=E();l.useEffect(()=>{n(T("Tables"))},[n]);const[o,c]=l.useState([]),[m,p]=l.useState([]),[v,i]=l.useState("");l.useEffect(()=>{fetch(`${d}/getAllUsers`).then(e=>e.json()).then(e=>{c(e),i(e),p(e)}).catch(e=>{console.error("Error fetching data:",e)})},[]),N(e=>e.themeConfig.rtlClass);const[u,k]=l.useState([]),f=x(),b=e=>{f(`/forms/basic/${e}`)},g=e=>{i(e);const r=m.filter(s=>s.name&&s.name.toLowerCase().includes(e.toLowerCase())||s.email&&s.email.toLowerCase().includes(e.toLowerCase())||s.password&&s.password.toLowerCase().includes(e.toLowerCase()));c(r)},w=e=>{fetch(`${d}/deleteUsers/${e}`,{method:"DELETE"}).then(r=>{if(r.ok)c(s=>s.filter(C=>C.id!==e)),alert("User delete successfully");else throw new Error("Failed to delete user")}).catch(r=>{console.error("Error deleting user:",r)})};return t("div",{className:"grid xl:grid-cols-2 gap-6 grid-cols-1",children:a("div",{className:"panel",style:{width:"197%"},children:[t("input",{type:"text",className:"form-input w-auto",placeholder:"Search...",onChange:e=>g(e.target.value)}),t("div",{className:"table-responsive mb-5",children:o.length===0?t("p",{style:{textAlign:"center"},children:"No User Found"}):a("table",{children:[t("thead",{children:a("tr",{children:[t("th",{children:"Name"}),t("th",{children:"Email"}),t("th",{children:"Password"}),t("th",{className:"text-center",children:"Action"})]})}),t("tbody",{children:o.map((e,r)=>a("tr",{children:[t("td",{children:e.name}),t("td",{children:e.email}),t("td",{children:e.password}),a("td",{className:"p-3 border-b border-[#ebedf2] dark:border-[#191e3a] text-center",children:[t(h,{content:"Edit",children:t("button",{type:"button",onClick:()=>b(e.id),children:t(S,{className:"ltr:mr-2 rtl:ml-2"})})}),t(h,{content:"Delete",children:t("button",{type:"button",onClick:()=>w(e.id),children:t(L,{})})})]})]},r))})]})}),u.includes("code6")&&t(D,{children:t("pre",{})})]})})};export{$ as default};
